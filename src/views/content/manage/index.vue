<script setup lang="ts">
import { PlusOutlined } from '@ant-design/icons-vue';

import { t } from '@/i18n';

import FormModal from './components/FormModal/index.vue';

const formRef = ref();
const handleQuery = () => {
};

const restQuery = () => {
  formRef.value.resetFields();
};

const formModalRef = ref();
const handleAdd = () => {
  formModalRef.value.showModal({});
};

const columns = [
  {
    width: 50,
    align: 'center',
    title: t('åºå·'),
    customRender: ({ index }: { index: number }) => index + 1,
  },
  {
    title: t('æ ‡é¢˜'),
    dataIndex: 'title',
  },
  {
    title: t('åˆ†ç±»'),
    dataIndex: 'type',
  },
  {
    title: t('å°é¢'),
    dataIndex: 'cover',
  },
  {
    title: t('çŠ¶æ€'),
    dataIndex: 'status',
  },
  {
    align: 'center',
    width: 100,
    title: t('æ“ä½œ'),
    dataIndex: 'action',
  },
];

const dataSource = ref([
  {
    title: 'Vue ç»„ä»¶ä¹‹é—´çš„é€šä¿¡è¿˜å¯ä»¥è¿™æ ·å†™',
    type: 'Vue',
    cover: 'https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70039090229349cdb407bdb8a6f64d51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qC85a2Q5oOK6Juw54mI:q75.awebp?rk3s=f64ab15b&x-expires=1749739551&x-signature=EKkUN9qOinUa66XzhAw0kNJh7FU%3D',
    status: 'å·²å‘å¸ƒ',
  },
  {
    title: 'æ€»ç»“ React Hooks å¹¶å¯¹æ¯”åœ¨ Vue 3 ä¸­æ˜¯æ€ä¹ˆä½¿ç”¨çš„',
    type: 'Vueã€React',
    cover: 'https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/962d82a0ec034df7aa64d0ee933295bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qC85a2Q5oOK6Juw54mI:q75.awebp?rk3s=f64ab15b&x-expires=1749739551&x-signature=gQu1UrGqangzSQHrlk6ScmbmHJY%3D',
    status: 'å·²å‘å¸ƒ',
  },
  {
    title: 'ğŸª²æ­£åœ¨å¼€å‘åå°ç®¡ç†ç³»ç»Ÿçš„åŒå­¦ UnoCSS ä¸€å®šè¦ç”¨èµ·æ¥',
    type: 'JavaScript',
    cover: 'https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31958bc621d646cab71c92753b580979~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qC85a2Q5oOK6Juw54mI:q75.awebp?rk3s=f64ab15b&x-expires=1749739480&x-signature=RNm5Vq9GoUVI8TouFiNOOh8nEZY%3D',
    status: 'å·²å‘å¸ƒ',
  },
]);
</script>

<template>
  <div class="m-10px">
    <div class="p-[10px_16px] mb-10px text-align-right rd-5px bg-#fff">
      <a-form layout="inline">
        <a-form-item :label="t('æ ‡é¢˜')">
          <a-input placeholder="è¯·è¾“å…¥"></a-input>
        </a-form-item>
        <a-form-item :label="t('åˆ†ç±»')">
         <div class="w-183px">
           <a-select style="text-align: left" placeholder="è¯·é€‰æ‹©"></a-select>
         </div>
        </a-form-item>
        <a-form-item>
          <a-button @click="restQuery">{{ t('é‡ ç½®') }}</a-button>
          <a-button class="ml-16px" type="primary" @click="handleQuery">{{ t('æœ ç´¢') }}</a-button>
        </a-form-item>
      </a-form>
    </div>

    <div class="p-16px rd-5px bg-#fff">
      <div class="mb-16px">
        <a-button type="primary" @click="handleAdd">
          <PlusOutlined />
          æ–°å¢
        </a-button>
      </div>
      <a-table bordered :data-source="dataSource" size="small" :columns="columns">
        <template #bodyCell="{ column, text  }">
          <template v-if="column.dataIndex === 'action'">
            <div class="flex">
              <a-button type="link">ç¼–è¾‘</a-button>
              <a-button type="link">è¯¦æƒ…</a-button>
            </div>
          </template>
          <template v-if="column.dataIndex === 'cover'">
            <a-image
              :width="60"
              :src="text"
            />
          </template>
          <template v-if="column.dataIndex === 'status'">
            <a-tag :bordered="false" color="processing">{{ text }}</a-tag>
          </template>
        </template>
      </a-table>
    </div>
    <FormModal ref="formModalRef" />
  </div>
</template>
